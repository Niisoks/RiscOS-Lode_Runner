#include "oslib/wimp.h"

int main(int argc, char *argv[])
{
        osbool          quit = FALSE;
        wimp_block      block;
        wimp_event_no   reason;

        wimp_initialise(wimp_VERSION_RO3, "Lode Runner", NULL, NULL);

        while (!quit) {
                reason = wimp_poll(wimp_MASK_NULL | wimp_MASK_ENTERING |
                        wimp_MASK_LEAVING | wimp_MASK_GAIN |
                        wimp_MASK_LOSE | wimp_MASK_POLLWORD,
                        &block, NULL);

                switch (reason) {
                case wimp_USER_MESSAGE:
                case wimp_USER_MESSAGE_RECORDED:
                        if (block.message.action == message_QUIT)
                                quit = TRUE;
                        break;
                }
        }

        wimp_close_down(0);

        return 0;
}